{% extends 'store/main.html' %}
{% load static %}


{% block extrahead %}
<link rel="stylesheet" type="text/css" href="{% static 'css/cart.css' %}">
{% endblock extrahead %}


{% block content %}
<div class="cart">
    <h2>Корзина</h2>
    <div class="cart-container">
      <div class="cart-itemsArea">

        {% for item in items %}
        <div class="cart-item">
        <!-- -- -->
          <div class="cart-itemPhotoArea">
            <a href="/detail">
              <div class="cart-itemPhoto-Wrpr">
                <img src="{{item.product.imageURL}}">
              </div>
            </a>  
          </div>
          <!-- - -->
          <div class="cart-itemOthersFields">
            <div class="cart-itemName">
              <a href="/detail">
                <h4>{{item.product.name}}</h4>
              </a>
            </div>
          
            <div class="cart-itemQuantity">
              <!-- <button data-product="{{product.id}}" data-action="add"> -->
                <div class="cart-itemQuantity__arrowSwg cartArrow-up">
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="16 16 32 32">
                    <path data-name="layer1" fill="none" stroke="#365C69" stroke-miterlimit="10" stroke-width="4" stroke-linecap="round" d="M20 40l11.994-14L44 40"></path>
                  </svg>
                </div>
            <!--</button> -->

              <p class="cart-itemQuantity__number">{{item.quantity}}</p>

              <div class="cart-itemQuantity__arrowSwg cartArrow-down">
                <svg xmlns="http://www.w3.org/2000/none" viewBox="16 16 32 32">
                  <path data-name="layer1" fill="none" stroke="#365C69" stroke-miterlimit="10" stroke-width="4" stroke-linecap="round" d="M20 26l11.994 14L44 26"></path>
                </svg>
              </div>
            </div>
            
            <div class="cart-itemPrice">
              <span class="product-card-new-prise" style="color:#365C69">{{item.product.price}}₽</span>
              <span class="product-card-old-prise" style="display: none">2600 ₽</span>
            </div>
            
            <div class="cart-itemButtons"> 
              <div class="cart-itemButtonIcon-wrpr">
                <svg class="add-to-fav-icon" viewBox="0 0 20 20">
                  <path d="M9.719,17.073l-6.562-6.51c-0.27-0.268-0.504-0.567-0.696-0.888C1.385,7.89,1.67,5.613,3.155,4.14c0.864-0.856,2.012-1.329,3.233-1.329c1.924,0,3.115,1.12,3.612,1.752c0.499-0.634,1.689-1.752,3.612-1.752c1.221,0,2.369,0.472,3.233,1.329c1.484,1.473,1.771,3.75,0.693,5.537c-0.19,0.32-0.425,0.618-0.695,0.887l-6.562,6.51C10.125,17.229,9.875,17.229,9.719,17.073 M6.388,3.61C5.379,3.61,4.431,4,3.717,4.707C2.495,5.92,2.259,7.794,3.145,9.265c0.158,0.265,0.351,0.51,0.574,0.731L10,16.228l6.281-6.232c0.224-0.221,0.416-0.466,0.573-0.729c0.887-1.472,0.651-3.346-0.571-4.56C15.57,4,14.621,3.61,13.612,3.61c-1.43,0-2.639,0.786-3.268,1.863c-0.154,0.264-0.536,0.264-0.69,0C9.029,4.397,7.82,3.61,6.388,3.61"></path>
                </svg>
              </div>

              <div class="cart-itemButtonIcon-wrpr">
                <svg class="del-cartItem-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#365C69" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="3 6 5 6 21 6"></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path><line x1="10" y1="11" x2="10" y2="17"></line><line x1="14" y1="11" x2="14" y2="17"></line></svg>
              </div>
            </div>

          </div>

        </div>
        {% endfor %}
      </div>

      <div class="cart-purchaseArea">
        <button class="cart-purchaseArea__checkout-btn">Перейти к оформлению заказа</button>
          <div class="cart-purchaseArea__checkoutInfo">
            <h3>В корзине:</h3>
            <div class="cart-checkoutInfo__field">
              <span class="cart-checkoutInfo-field__name">Товаров:</span> 
              <span class="cart-checkoutInfo-field__value">{{order.sum_cart_items}}</span>
            </div>
            <div class="cart-checkoutInfo__field">
              <span class="cart-checkoutInfo-field__name"><strong>На сумму:</strong></span>
              <span class="cart-checkoutInfo-field__value"><strong>{{order.sum_cart_total}}₽</strong></span>
            </div>
            <p class="cart-checkoutInfo__OtherInfo">
              Детали, свяннаые с доставкой и оплатой заказа находятся на вкладке <a href="/checkout">оформления заказа</a>.
            </p>
          </div>
      </div>
    </div>
</div>
{% endblock content %}


{% block extrascript %}
{% endblock extrascript %} 
